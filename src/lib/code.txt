UploadedFile mockFile = mock(UploadedFile.class);
when(mockFile.getSize()).thenReturn(1024L);
when(mockFile.getInputStream()).thenReturn(new ByteArrayInputStream("file-content".getBytes()));

Map<String, UploadedFile> uploadedFiles = new HashMap<>();
uploadedFiles.put("test.txt", mockFile);

when(context.getUploadedFiles()).thenReturn(uploadedFiles);






String validJson = "[" +
    "{\"fileName\":\"ignored.txt\",\"FileDescription\":\"Ignore this\"}," +
    "{\"fileName\":\"test.txt\",\"FileDescription\":\"Test file\"}" +
"]";
when(request.getParameter("descriptionJsonFormat")).thenReturn(validJson);
